// <auto-generated />
using System;
using System.Collections.Generic;
using Infrastructure.Database;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;

#nullable disable

namespace Infrastructure.Migrations
{
    [DbContext(typeof(ApplicationDbContext))]
    partial class ApplicationDbContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasDefaultSchema("public")
                .HasAnnotation("ProductVersion", "9.0.6")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("Domain.Auth.AuthSession", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at_utc");

                    b.Property<string>("DeviceId")
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("device_id");

                    b.Property<DateTime>("ExpiresAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at_utc");

                    b.Property<string>("Ip")
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("ip");

                    b.Property<DateTime?>("LastUsedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_used_at_utc");

                    b.Property<string>("RevokeReason")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("revoke_reason");

                    b.Property<DateTime?>("RevokedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("revoked_at_utc");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(512)
                        .HasColumnType("character varying(512)")
                        .HasColumnName("user_agent");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid")
                        .HasColumnName("user_id");

                    b.HasKey("Id")
                        .HasName("pk_auth_sessions");

                    b.HasIndex("TenantId", "UserId")
                        .HasDatabaseName("ix_auth_sessions_tenant_user");

                    b.ToTable("auth_sessions", "public");
                });

            modelBuilder.Entity("Domain.Auth.RefreshTokenRecord", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at_utc");

                    b.Property<DateTime>("ExpiresAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at_utc");

                    b.Property<Guid?>("ReplacedByTokenId")
                        .HasColumnType("uuid")
                        .HasColumnName("replaced_by_token_id");

                    b.Property<DateTime?>("RevokedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("revoked_at_utc");

                    b.Property<string>("RevokedReason")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("revoked_reason");

                    b.Property<Guid>("SessionId")
                        .HasColumnType("uuid")
                        .HasColumnName("session_id");

                    b.Property<string>("TokenHash")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("token_hash");

                    b.HasKey("Id")
                        .HasName("pk_refresh_token_records");

                    b.HasIndex("SessionId")
                        .HasDatabaseName("ix_refresh_token_records_session_id");

                    b.HasIndex("TokenHash")
                        .IsUnique()
                        .HasDatabaseName("ux_refresh_token_records_token_hash");

                    b.ToTable("refresh_token_records", "public");
                });

            modelBuilder.Entity("Domain.Gaming.DrawGroups.DrawGroup", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at_utc");

                    b.Property<string>("GameCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("game_code");

                    b.Property<DateTime>("GrantCloseAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("grant_close_at_utc");

                    b.Property<DateTime>("GrantOpenAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("grant_open_at_utc");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("name");

                    b.Property<string>("PlayTypeCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("play_type_code");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.HasKey("Id")
                        .HasName("pk_draw_groups");

                    b.HasIndex("TenantId", "GameCode", "PlayTypeCode", "GrantOpenAtUtc")
                        .HasDatabaseName("ix_draw_groups_tenant_id_game_code_play_type_code_grant_open_a");

                    b.ToTable("draw_groups", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.DrawGroups.DrawGroupDraw", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at_utc");

                    b.Property<Guid>("DrawGroupId")
                        .HasColumnType("uuid")
                        .HasColumnName("draw_group_id");

                    b.Property<Guid>("DrawId")
                        .HasColumnType("uuid")
                        .HasColumnName("draw_id");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.HasKey("Id")
                        .HasName("pk_draw_group_draws");

                    b.HasIndex("DrawGroupId")
                        .HasDatabaseName("ix_draw_group_draws_draw_group_id");

                    b.HasIndex("TenantId", "DrawGroupId")
                        .HasDatabaseName("ix_draw_group_draws_tenant_id_draw_group_id");

                    b.HasIndex("TenantId", "DrawGroupId", "DrawId")
                        .IsUnique()
                        .HasDatabaseName("ix_draw_group_draws_tenant_id_draw_group_id_draw_id");

                    b.ToTable("draw_group_draws", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.DrawTemplates.DrawTemplate", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at_utc");

                    b.Property<string>("GameCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("game_code");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<bool>("IsLocked")
                        .HasColumnType("boolean")
                        .HasColumnName("is_locked");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("name");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<DateTime>("UpdatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at_utc");

                    b.Property<int>("Version")
                        .HasColumnType("integer")
                        .HasColumnName("version");

                    b.HasKey("Id")
                        .HasName("pk_draw_templates");

                    b.HasIndex("TenantId", "GameCode", "Name")
                        .IsUnique()
                        .HasDatabaseName("ix_draw_templates_tenant_id_game_code_name");

                    b.ToTable("draw_templates", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.DrawTemplates.DrawTemplateAllowedTicketTemplate", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at_utc");

                    b.Property<Guid>("TemplateId")
                        .HasColumnType("uuid")
                        .HasColumnName("template_id");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<Guid>("TicketTemplateId")
                        .HasColumnType("uuid")
                        .HasColumnName("ticket_template_id");

                    b.HasKey("Id")
                        .HasName("pk_draw_template_allowed_ticket_templates");

                    b.HasIndex("TemplateId")
                        .HasDatabaseName("ix_draw_template_allowed_ticket_templates_template_id");

                    b.HasIndex("TenantId", "TemplateId", "TicketTemplateId")
                        .IsUnique()
                        .HasDatabaseName("ix_draw_template_allowed_ticket_templates_tenant_id_template_i");

                    b.ToTable("draw_template_allowed_ticket_templates", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.DrawTemplates.DrawTemplatePlayType", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("PlayTypeCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("play_type_code");

                    b.Property<Guid>("TemplateId")
                        .HasColumnType("uuid")
                        .HasColumnName("template_id");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.HasKey("Id")
                        .HasName("pk_draw_template_play_types");

                    b.HasIndex("TemplateId")
                        .HasDatabaseName("ix_draw_template_play_types_template_id");

                    b.HasIndex("TenantId", "TemplateId", "PlayTypeCode")
                        .IsUnique()
                        .HasDatabaseName("ix_draw_template_play_types_tenant_id_template_id_play_type_co");

                    b.ToTable("draw_template_play_types", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.DrawTemplates.DrawTemplatePrizeTier", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("PlayTypeCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("play_type_code");

                    b.Property<Guid>("TemplateId")
                        .HasColumnType("uuid")
                        .HasColumnName("template_id");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<string>("Tier")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("tier");

                    b.HasKey("Id")
                        .HasName("pk_draw_template_prize_tiers");

                    b.HasIndex("TemplateId")
                        .HasDatabaseName("ix_draw_template_prize_tiers_template_id");

                    b.HasIndex("TenantId", "TemplateId", "PlayTypeCode", "Tier")
                        .IsUnique()
                        .HasDatabaseName("ix_draw_template_prize_tiers_tenant_id_template_id_play_type_c");

                    b.ToTable("draw_template_prize_tiers", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.Draws.Draw", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("Algorithm")
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("algorithm");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("DerivedInput")
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("derived_input");

                    b.Property<DateTime>("DrawAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("draw_at");

                    b.Property<string>("DrawCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("draw_code");

                    b.Property<DateTime?>("DrawnAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("settled_at");

                    b.Property<string>("GameCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("game_code");

                    b.Property<bool>("IsManuallyClosed")
                        .HasColumnType("boolean")
                        .HasColumnName("is_manually_closed");

                    b.Property<DateTime?>("ManualCloseAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("manual_close_at");

                    b.Property<string>("ManualCloseReason")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("manual_close_reason");

                    b.Property<int?>("RedeemValidDays")
                        .HasColumnType("integer")
                        .HasColumnName("redeem_valid_days");

                    b.Property<DateTime>("SalesCloseAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("sales_close_at");

                    b.Property<DateTime>("SalesOpenAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("sales_open_at");

                    b.Property<string>("ServerSeed")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("server_seed");

                    b.Property<string>("ServerSeedHash")
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("server_seed_hash");

                    b.Property<DateTime?>("SettledAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("settled_at_utc");

                    b.Property<Guid?>("SourceTemplateId")
                        .HasColumnType("uuid")
                        .HasColumnName("source_template_id");

                    b.Property<int?>("SourceTemplateVersion")
                        .HasColumnType("integer")
                        .HasColumnName("source_template_version");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at");

                    b.Property<string>("WinningNumbersRaw")
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("winning_numbers_raw");

                    b.HasKey("Id")
                        .HasName("pk_draws");

                    b.HasIndex("TenantId", "Status")
                        .HasDatabaseName("ix_draws_tenant_id_status");

                    b.HasIndex("TenantId", "GameCode", "DrawCode")
                        .IsUnique()
                        .HasDatabaseName("ix_draws_tenant_id_game_code_draw_code");

                    b.ToTable("draws", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.Draws.DrawAllowedTicketTemplate", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<Guid>("DrawId")
                        .HasColumnType("uuid")
                        .HasColumnName("draw_id");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<Guid>("TicketTemplateId")
                        .HasColumnType("uuid")
                        .HasColumnName("ticket_template_id");

                    b.HasKey("Id")
                        .HasName("pk_draw_allowed_ticket_templates");

                    b.HasIndex("TenantId", "DrawId", "TicketTemplateId")
                        .IsUnique()
                        .HasDatabaseName("ix_draw_allowed_ticket_templates_tenant_id_draw_id_ticket_temp");

                    b.ToTable("draw_allowed_ticket_templates", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.Draws.DrawEnabledPlayType", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid>("DrawId")
                        .HasColumnType("uuid")
                        .HasColumnName("draw_id");

                    b.Property<string>("PlayTypeCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("play_type_code");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.HasKey("Id")
                        .HasName("pk_draw_enabled_play_types");

                    b.HasIndex("DrawId")
                        .HasDatabaseName("ix_draw_enabled_play_types_draw_id");

                    b.HasIndex("TenantId", "DrawId", "PlayTypeCode")
                        .IsUnique()
                        .HasDatabaseName("ix_draw_enabled_play_types_tenant_id_draw_id_play_type_code");

                    b.ToTable("draw_enabled_play_types", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.Draws.DrawPrizePoolItem", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid>("DrawId")
                        .HasColumnType("uuid")
                        .HasColumnName("draw_id");

                    b.Property<string>("PlayTypeCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("play_type_code");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<string>("Tier")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("tier");

                    b.HasKey("Id")
                        .HasName("pk_draw_prize_pool_items");

                    b.HasIndex("DrawId")
                        .HasDatabaseName("ix_draw_prize_pool_items_draw_id");

                    b.HasIndex("TenantId", "DrawId", "PlayTypeCode", "Tier")
                        .IsUnique()
                        .HasDatabaseName("ix_draw_prize_pool_items_tenant_id_draw_id_play_type_code_tier");

                    b.ToTable("draw_prize_pool_items", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.Entitlements.TenantGameEntitlement", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime?>("DisabledAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("disabled_at_utc");

                    b.Property<DateTime>("EnabledAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("enabled_at_utc");

                    b.Property<string>("GameCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("game_code");

                    b.Property<bool>("IsEnabled")
                        .HasColumnType("boolean")
                        .HasColumnName("is_enabled");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.HasKey("Id")
                        .HasName("pk_tenant_game_entitlements");

                    b.HasIndex("TenantId", "GameCode")
                        .IsUnique()
                        .HasDatabaseName("ux_tenant_game_entitlements_tenant_game");

                    b.ToTable("tenant_game_entitlements", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.Entitlements.TenantPlayEntitlement", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime?>("DisabledAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("disabled_at_utc");

                    b.Property<DateTime>("EnabledAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("enabled_at_utc");

                    b.Property<string>("GameCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("game_code");

                    b.Property<bool>("IsEnabled")
                        .HasColumnType("boolean")
                        .HasColumnName("is_enabled");

                    b.Property<string>("PlayTypeCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("play_type_code");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.HasKey("Id")
                        .HasName("pk_tenant_play_entitlements");

                    b.HasIndex("TenantId", "GameCode", "PlayTypeCode")
                        .IsUnique()
                        .HasDatabaseName("ux_tenant_play_entitlements_tenant_game_play");

                    b.ToTable("tenant_play_entitlements", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.PrizeAwards.PrizeAward", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("AwardedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("awarded_at");

                    b.Property<Guid>("DrawId")
                        .HasColumnType("uuid")
                        .HasColumnName("draw_id");

                    b.Property<DateTime?>("ExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at");

                    b.Property<string>("GameCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("game_code");

                    b.Property<int>("LineIndex")
                        .HasColumnType("integer")
                        .HasColumnName("line_index");

                    b.Property<int>("MatchedCount")
                        .HasColumnType("integer")
                        .HasColumnName("matched_count");

                    b.Property<Guid>("MemberId")
                        .HasColumnType("uuid")
                        .HasColumnName("member_id");

                    b.Property<string>("PlayTypeCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("play_type_code");

                    b.Property<decimal>("PrizeCostSnapshot")
                        .HasColumnType("decimal(18,2)")
                        .HasColumnName("prize_cost_snapshot");

                    b.Property<string>("PrizeDescriptionSnapshot")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("prize_description_snapshot");

                    b.Property<Guid>("PrizeId")
                        .HasColumnType("uuid")
                        .HasColumnName("prize_id");

                    b.Property<string>("PrizeNameSnapshot")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("prize_name_snapshot");

                    b.Property<int?>("PrizeRedeemValidDaysSnapshot")
                        .HasColumnType("integer")
                        .HasColumnName("prize_redeem_valid_days_snapshot");

                    b.Property<string>("PrizeTier")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("prize_tier");

                    b.Property<DateTime?>("RedeemedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("redeemed_at");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<Guid>("TicketId")
                        .HasColumnType("uuid")
                        .HasColumnName("ticket_id");

                    b.HasKey("Id")
                        .HasName("pk_prize_awards");

                    b.HasIndex("TenantId", "DrawId", "TicketId", "LineIndex")
                        .IsUnique()
                        .HasDatabaseName("ix_prize_awards_tenant_id_draw_id_ticket_id_line_index");

                    b.ToTable("prize_awards", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.Prizes.Prize", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<decimal>("Cost")
                        .HasPrecision(18, 2)
                        .HasColumnType("numeric(18,2)")
                        .HasColumnName("cost");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("Description")
                        .HasMaxLength(512)
                        .HasColumnType("character varying(512)")
                        .HasColumnName("description");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("name");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at");

                    b.HasKey("Id")
                        .HasName("pk_prizes");

                    b.HasIndex("TenantId", "Name")
                        .HasDatabaseName("ix_prizes_tenant_id_name");

                    b.ToTable("prizes", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.RedeemRecords.RedeemRecord", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<decimal>("CostSnapshot")
                        .HasPrecision(18, 2)
                        .HasColumnType("numeric(18,2)")
                        .HasColumnName("cost_snapshot");

                    b.Property<Guid>("MemberId")
                        .HasColumnType("uuid")
                        .HasColumnName("member_id");

                    b.Property<string>("Note")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("note");

                    b.Property<Guid>("PrizeAwardId")
                        .HasColumnType("uuid")
                        .HasColumnName("prize_award_id");

                    b.Property<Guid>("PrizeId")
                        .HasColumnType("uuid")
                        .HasColumnName("prize_id");

                    b.Property<string>("PrizeNameSnapshot")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("prize_name_snapshot");

                    b.Property<DateTime>("RedeemedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("redeemed_at");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.HasKey("Id")
                        .HasName("pk_redeem_records");

                    b.HasIndex("PrizeAwardId")
                        .IsUnique()
                        .HasDatabaseName("ix_redeem_records_prize_award_id");

                    b.ToTable("redeem_records", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.TicketTemplates.TicketTemplate", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("code");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<int>("MaxLinesPerTicket")
                        .HasColumnType("integer")
                        .HasColumnName("max_lines_per_ticket");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("name");

                    b.Property<decimal>("Price")
                        .HasColumnType("decimal(18,2)")
                        .HasColumnName("price");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at");

                    b.Property<DateTime?>("ValidFrom")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("valid_from");

                    b.Property<DateTime?>("ValidTo")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("valid_to");

                    b.HasKey("Id")
                        .HasName("pk_ticket_templates");

                    b.HasIndex("TenantId", "Code")
                        .IsUnique()
                        .HasDatabaseName("ix_ticket_templates_tenant_id_code");

                    b.ToTable("ticket_templates", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.Tickets.Ticket", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime?>("CancelledAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("cancelled_at_utc");

                    b.Property<Guid?>("CancelledByUserId")
                        .HasColumnType("uuid")
                        .HasColumnName("cancelled_by_user_id");

                    b.Property<string>("CancelledReason")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("cancelled_reason");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<Guid?>("DrawGroupId")
                        .HasColumnType("uuid")
                        .HasColumnName("draw_group_id");

                    b.Property<Guid?>("DrawId")
                        .HasColumnType("uuid")
                        .HasColumnName("draw_id");

                    b.Property<string>("GameCode")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("game_code");

                    b.Property<DateTime>("IssuedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("issued_at_utc");

                    b.Property<int>("IssuedByType")
                        .HasColumnType("integer")
                        .HasColumnName("issued_by_type");

                    b.Property<Guid?>("IssuedByUserId")
                        .HasColumnType("uuid")
                        .HasColumnName("issued_by_user_id");

                    b.Property<string>("IssuedNote")
                        .HasMaxLength(512)
                        .HasColumnType("character varying(512)")
                        .HasColumnName("issued_note");

                    b.Property<string>("IssuedReason")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("issued_reason");

                    b.Property<Guid>("MemberId")
                        .HasColumnType("uuid")
                        .HasColumnName("member_id");

                    b.Property<string>("PlayTypeCode")
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("play_type_code");

                    b.Property<decimal?>("PriceSnapshot")
                        .HasColumnType("decimal(18,2)")
                        .HasColumnName("price_snapshot");

                    b.Property<int>("SubmissionStatus")
                        .HasColumnType("integer")
                        .HasColumnName("submission_status");

                    b.Property<DateTime?>("SubmittedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("submitted_at_utc");

                    b.Property<Guid?>("SubmittedByUserId")
                        .HasColumnType("uuid")
                        .HasColumnName("submitted_by_user_id");

                    b.Property<string>("SubmittedClientReference")
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("submitted_client_reference");

                    b.Property<string>("SubmittedNote")
                        .HasMaxLength(512)
                        .HasColumnType("character varying(512)")
                        .HasColumnName("submitted_note");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<Guid?>("TicketTemplateId")
                        .HasColumnType("uuid")
                        .HasColumnName("ticket_template_id");

                    b.Property<long?>("TotalCost")
                        .HasColumnType("bigint")
                        .HasColumnName("total_cost");

                    b.HasKey("Id")
                        .HasName("pk_tickets");

                    b.HasIndex("TenantId", "MemberId", "CreatedAt")
                        .HasDatabaseName("ix_tickets_tenant_id_member_id_created_at");

                    b.ToTable("tickets", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.Tickets.TicketDraw", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at_utc");

                    b.Property<Guid>("DrawId")
                        .HasColumnType("uuid")
                        .HasColumnName("draw_id");

                    b.Property<DateTime?>("EvaluatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("evaluated_at_utc");

                    b.Property<int>("ParticipationStatus")
                        .HasColumnType("integer")
                        .HasColumnName("participation_status");

                    b.Property<DateTime?>("RedeemedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("redeemed_at_utc");

                    b.Property<DateTime?>("SettledAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("settled_at_utc");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<Guid>("TicketId")
                        .HasColumnType("uuid")
                        .HasColumnName("ticket_id");

                    b.HasKey("Id")
                        .HasName("pk_ticket_draws");

                    b.HasIndex("TicketId", "DrawId")
                        .IsUnique()
                        .HasDatabaseName("ix_ticket_draws_ticket_id_draw_id");

                    b.HasIndex("TenantId", "DrawId", "ParticipationStatus")
                        .HasDatabaseName("ix_ticket_draws_tenant_id_draw_id_participation_status");

                    b.ToTable("ticket_draws", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.Tickets.TicketIdempotencyRecord", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at_utc");

                    b.Property<string>("IdempotencyKey")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("idempotency_key");

                    b.Property<string>("Operation")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("operation");

                    b.Property<string>("RequestHash")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("request_hash");

                    b.Property<string>("ResponsePayload")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("response_payload");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.HasKey("Id")
                        .HasName("pk_ticket_idempotency_records");

                    b.HasIndex("TenantId", "IdempotencyKey", "Operation")
                        .IsUnique()
                        .HasDatabaseName("ix_ticket_idempotency_records_tenant_id_idempotency_key_operat");

                    b.ToTable("ticket_idempotency_records", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.Tickets.TicketLine", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<int>("LineIndex")
                        .HasColumnType("integer")
                        .HasColumnName("line_index");

                    b.Property<string>("NumbersRaw")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("numbers_raw");

                    b.Property<string>("PlayTypeCode")
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("play_type_code");

                    b.Property<Guid>("TicketId")
                        .HasColumnType("uuid")
                        .HasColumnName("ticket_id");

                    b.HasKey("Id")
                        .HasName("pk_ticket_lines");

                    b.HasIndex("TicketId", "LineIndex")
                        .IsUnique()
                        .HasDatabaseName("ix_ticket_lines_ticket_id_line_index");

                    b.ToTable("ticket_lines", "gaming");
                });

            modelBuilder.Entity("Domain.Gaming.Tickets.TicketLineResult", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid>("DrawId")
                        .HasColumnType("uuid")
                        .HasColumnName("draw_id");

                    b.Property<int>("LineIndex")
                        .HasColumnType("integer")
                        .HasColumnName("line_index");

                    b.Property<decimal>("Payout")
                        .HasColumnType("decimal(18,2)")
                        .HasColumnName("payout");

                    b.Property<string>("PrizeTier")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("prize_tier");

                    b.Property<DateTime>("SettledAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("settled_at_utc");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<Guid>("TicketId")
                        .HasColumnType("uuid")
                        .HasColumnName("ticket_id");

                    b.HasKey("Id")
                        .HasName("pk_ticket_line_results");

                    b.HasIndex("TenantId", "TicketId", "DrawId", "LineIndex")
                        .IsUnique()
                        .HasDatabaseName("ix_ticket_line_results_tenant_id_ticket_id_draw_id_line_index");

                    b.ToTable("ticket_line_results", "gaming");
                });

            modelBuilder.Entity("Domain.Members.Member", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("DisplayName")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("display_name");

                    b.Property<string>("MemberNo")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("member_no");

                    b.Property<short>("Status")
                        .HasColumnType("smallint")
                        .HasColumnName("status");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at");

                    b.Property<Guid?>("UserId")
                        .HasColumnType("uuid")
                        .HasColumnName("user_id");

                    b.HasKey("Id")
                        .HasName("pk_members");

                    b.HasIndex("UserId")
                        .HasDatabaseName("ix_members_user_id");

                    b.HasIndex("TenantId", "MemberNo")
                        .IsUnique()
                        .HasDatabaseName("ux_members_tenant_id_member_no");

                    b.HasIndex("TenantId", "UserId")
                        .IsUnique()
                        .HasDatabaseName("ux_members_tenant_id_user_id")
                        .HasFilter("user_id IS NOT NULL");

                    b.ToTable("members", "public");
                });

            modelBuilder.Entity("Domain.Members.MemberActivityLog", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("Action")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("action");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("Ip")
                        .HasColumnType("text")
                        .HasColumnName("ip");

                    b.Property<Guid>("MemberId")
                        .HasColumnType("uuid")
                        .HasColumnName("member_id");

                    b.Property<Guid?>("OperatorUserId")
                        .HasColumnType("uuid")
                        .HasColumnName("operator_user_id");

                    b.Property<string>("Payload")
                        .HasColumnType("text")
                        .HasColumnName("payload");

                    b.Property<string>("UserAgent")
                        .HasColumnType("text")
                        .HasColumnName("user_agent");

                    b.HasKey("Id")
                        .HasName("pk_member_activity_log");

                    b.HasIndex("Action", "CreatedAt")
                        .HasDatabaseName("ix_member_activity_log_action_created_at");

                    b.HasIndex("MemberId", "CreatedAt")
                        .HasDatabaseName("ix_member_activity_log_member_id_created_at");

                    b.ToTable("member_activity_log", "public");
                });

            modelBuilder.Entity("Domain.Members.MemberAddress", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("AddressLine")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("address_line");

                    b.Property<string>("City")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("city");

                    b.Property<string>("Country")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("country");

                    b.Property<string>("District")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("district");

                    b.Property<bool>("IsDefault")
                        .HasColumnType("boolean")
                        .HasColumnName("is_default");

                    b.Property<Guid>("MemberId")
                        .HasColumnType("uuid")
                        .HasColumnName("member_id");

                    b.Property<string>("PhoneNumber")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("phone_number");

                    b.Property<string>("ReceiverName")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("receiver_name");

                    b.HasKey("Id")
                        .HasName("pk_member_addresses");

                    b.HasIndex("MemberId")
                        .HasDatabaseName("ix_member_addresses_member_id");

                    b.ToTable("member_addresses", "public");
                });

            modelBuilder.Entity("Domain.Members.MemberAssetBalance", b =>
                {
                    b.Property<Guid>("MemberId")
                        .HasColumnType("uuid")
                        .HasColumnName("member_id");

                    b.Property<string>("AssetCode")
                        .HasColumnType("text")
                        .HasColumnName("asset_code");

                    b.Property<decimal>("Balance")
                        .HasColumnType("numeric(38,18)")
                        .HasColumnName("balance");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at");

                    b.HasKey("MemberId", "AssetCode")
                        .HasName("pk_member_asset_balance");

                    b.ToTable("member_asset_balance", "public");
                });

            modelBuilder.Entity("Domain.Members.MemberAssetLedger", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<decimal>("AfterBalance")
                        .HasColumnType("numeric(38,18)")
                        .HasColumnName("after_balance");

                    b.Property<decimal>("Amount")
                        .HasColumnType("numeric(38,18)")
                        .HasColumnName("amount");

                    b.Property<string>("AssetCode")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("asset_code");

                    b.Property<decimal>("BeforeBalance")
                        .HasColumnType("numeric(38,18)")
                        .HasColumnName("before_balance");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<Guid>("MemberId")
                        .HasColumnType("uuid")
                        .HasColumnName("member_id");

                    b.Property<Guid?>("OperatorUserId")
                        .HasColumnType("uuid")
                        .HasColumnName("operator_user_id");

                    b.Property<string>("ReferenceId")
                        .HasColumnType("text")
                        .HasColumnName("reference_id");

                    b.Property<string>("ReferenceType")
                        .HasColumnType("text")
                        .HasColumnName("reference_type");

                    b.Property<string>("Remark")
                        .HasColumnType("text")
                        .HasColumnName("remark");

                    b.Property<short>("Type")
                        .HasColumnType("smallint")
                        .HasColumnName("type");

                    b.HasKey("Id")
                        .HasName("pk_member_asset_ledger");

                    b.HasIndex("MemberId", "AssetCode", "CreatedAt")
                        .HasDatabaseName("ix_member_asset_ledger_member_id_asset_code_created_at");

                    b.ToTable("member_asset_ledger", "public");
                });

            modelBuilder.Entity("Domain.Members.MemberPointBalance", b =>
                {
                    b.Property<Guid>("MemberId")
                        .HasColumnType("uuid")
                        .HasColumnName("member_id");

                    b.Property<long>("Balance")
                        .HasColumnType("bigint")
                        .HasColumnName("balance");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at");

                    b.HasKey("MemberId")
                        .HasName("pk_member_point_balance");

                    b.ToTable("member_point_balance", "public");
                });

            modelBuilder.Entity("Domain.Members.MemberPointLedger", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<long>("AfterBalance")
                        .HasColumnType("bigint")
                        .HasColumnName("after_balance");

                    b.Property<long>("Amount")
                        .HasColumnType("bigint")
                        .HasColumnName("amount");

                    b.Property<long>("BeforeBalance")
                        .HasColumnType("bigint")
                        .HasColumnName("before_balance");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<Guid>("MemberId")
                        .HasColumnType("uuid")
                        .HasColumnName("member_id");

                    b.Property<Guid?>("OperatorUserId")
                        .HasColumnType("uuid")
                        .HasColumnName("operator_user_id");

                    b.Property<string>("ReferenceId")
                        .HasColumnType("text")
                        .HasColumnName("reference_id");

                    b.Property<string>("ReferenceType")
                        .HasColumnType("text")
                        .HasColumnName("reference_type");

                    b.Property<string>("Remark")
                        .HasColumnType("text")
                        .HasColumnName("remark");

                    b.Property<short>("Type")
                        .HasColumnType("smallint")
                        .HasColumnName("type");

                    b.HasKey("Id")
                        .HasName("pk_member_point_ledger");

                    b.HasIndex("MemberId", "CreatedAt")
                        .HasDatabaseName("ix_member_point_ledger_member_id_created_at");

                    b.HasIndex("ReferenceType", "ReferenceId")
                        .HasDatabaseName("ix_member_point_ledger_reference_type_reference_id");

                    b.ToTable("member_point_ledger", "public");
                });

            modelBuilder.Entity("Domain.Members.MemberProfile", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<short>("Gender")
                        .HasColumnType("smallint")
                        .HasColumnName("gender");

                    b.Property<Guid>("MemberId")
                        .HasColumnType("uuid")
                        .HasColumnName("member_id");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("phone_number");

                    b.Property<bool>("PhoneVerified")
                        .HasColumnType("boolean")
                        .HasColumnName("phone_verified");

                    b.Property<string>("RealName")
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("real_name");

                    b.Property<DateTime>("UpdatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at_utc");

                    b.HasKey("Id")
                        .HasName("pk_member_profiles");

                    b.HasIndex("MemberId")
                        .IsUnique()
                        .HasDatabaseName("ux_member_profiles_member_id");

                    b.ToTable("member_profiles", "public");
                });

            modelBuilder.Entity("Domain.Nodes.Node", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("boolean")
                        .HasColumnName("is_deleted");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("type");

                    b.HasKey("Id")
                        .HasName("pk_node");

                    b.ToTable("node", "public");
                });

            modelBuilder.Entity("Domain.Nodes.NodeRelation", b =>
                {
                    b.Property<Guid>("AncestorNodeId")
                        .HasColumnType("uuid")
                        .HasColumnName("ancestor_node_id");

                    b.Property<Guid>("DescendantNodeId")
                        .HasColumnType("uuid")
                        .HasColumnName("descendant_node_id");

                    b.Property<int>("Depth")
                        .HasColumnType("integer")
                        .HasColumnName("depth");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("boolean")
                        .HasColumnName("is_deleted");

                    b.HasKey("AncestorNodeId", "DescendantNodeId")
                        .HasName("pk_node_relation");

                    b.HasIndex("DescendantNodeId")
                        .HasDatabaseName("ix_node_relation_descendant_node_id");

                    b.ToTable("node_relation", "public");
                });

            modelBuilder.Entity("Domain.Security.Group", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("ExternalKey")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("external_key");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("name");

                    b.HasKey("Id")
                        .HasName("pk_groups");

                    b.ToTable("groups", "public");
                });

            modelBuilder.Entity("Domain.Security.Permission", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("name");

                    b.Property<int?>("RoleId")
                        .HasColumnType("integer")
                        .HasColumnName("role_id");

                    b.Property<int>("Scope")
                        .HasColumnType("integer")
                        .HasColumnName("scope");

                    b.HasKey("Id")
                        .HasName("pk_permission");

                    b.HasIndex("RoleId")
                        .HasDatabaseName("ix_permission_role_id");

                    b.ToTable("permission", "public");
                });

            modelBuilder.Entity("Domain.Security.PermissionAssignment", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<int>("Decision")
                        .HasColumnType("integer")
                        .HasColumnName("decision");

                    b.Property<Guid?>("NodeId")
                        .HasColumnType("uuid")
                        .HasColumnName("node_id");

                    b.Property<string>("PermissionCode")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("permission_code");

                    b.Property<Guid>("SubjectId")
                        .HasColumnType("uuid")
                        .HasColumnName("subject_id");

                    b.Property<int>("SubjectType")
                        .HasColumnType("integer")
                        .HasColumnName("subject_type");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.HasKey("Id")
                        .HasName("pk_permission_assignments");

                    b.HasIndex("NodeId")
                        .HasDatabaseName("ix_permission_assignments_node_id");

                    b.HasIndex("PermissionCode")
                        .HasDatabaseName("ix_permission_assignments_permission_code");

                    b.HasIndex("TenantId")
                        .HasDatabaseName("ix_permission_assignments_tenant_id");

                    b.HasIndex("SubjectType", "SubjectId")
                        .HasDatabaseName("ix_permission_assignments_subject_type_subject_id");

                    b.ToTable("permission_assignments", "public");
                });

            modelBuilder.Entity("Domain.Security.ResourceNode", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("ExternalKey")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("external_key");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("name");

                    b.Property<Guid?>("ParentId")
                        .HasColumnType("uuid")
                        .HasColumnName("parent_id");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.HasKey("Id")
                        .HasName("pk_resource_nodes");

                    b.HasIndex("ParentId")
                        .HasDatabaseName("ix_resource_nodes_parent_id");

                    b.HasIndex("TenantId")
                        .HasDatabaseName("ix_resource_nodes_tenant_id");

                    b.HasIndex("TenantId", "ExternalKey")
                        .IsUnique()
                        .HasDatabaseName("ux_resource_nodes_tenant_id_external_key");

                    b.ToTable("resource_nodes", "public");
                });

            modelBuilder.Entity("Domain.Security.Role", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("name");

                    b.Property<Guid?>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.HasKey("Id")
                        .HasName("pk_role");

                    b.ToTable("role", "public");
                });

            modelBuilder.Entity("Domain.Security.UserGroup", b =>
                {
                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid")
                        .HasColumnName("user_id");

                    b.Property<Guid>("GroupId")
                        .HasColumnType("uuid")
                        .HasColumnName("group_id");

                    b.HasKey("UserId", "GroupId")
                        .HasName("pk_user_groups");

                    b.HasIndex("GroupId")
                        .HasDatabaseName("ix_user_groups_group_id");

                    b.HasIndex("UserId", "GroupId")
                        .HasDatabaseName("ix_user_groups_user_id_group_id");

                    b.ToTable("user_groups", "public");
                });

            modelBuilder.Entity("Domain.Tenants.Tenant", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("code");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("name");

                    b.Property<string>("TimeZoneId")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("time_zone_id");

                    b.HasKey("Id")
                        .HasName("pk_tenants");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("ix_tenants_code");

                    b.ToTable("tenants", "public");
                });

            modelBuilder.Entity("Domain.Users.LoginBinding", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at_utc");

                    b.Property<string>("DisplayName")
                        .HasColumnType("text")
                        .HasColumnName("display_name");

                    b.Property<string>("Email")
                        .HasColumnType("text")
                        .HasColumnName("email");

                    b.Property<string>("NormalizedProviderKey")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("normalized_provider_key");

                    b.Property<string>("PictureUrl")
                        .HasMaxLength(2048)
                        .HasColumnType("character varying(2048)")
                        .HasColumnName("picture_url");

                    b.Property<int>("Provider")
                        .HasColumnType("integer")
                        .HasColumnName("provider");

                    b.Property<string>("ProviderKey")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("provider_key");

                    b.Property<Guid?>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid")
                        .HasColumnName("user_id");

                    b.HasKey("Id")
                        .HasName("pk_user_login_bindings");

                    b.HasIndex("UserId", "Provider")
                        .IsUnique()
                        .HasDatabaseName("ux_login_bindings_user_provider");

                    b.HasIndex("TenantId", "Provider", "NormalizedProviderKey")
                        .IsUnique()
                        .HasDatabaseName("ux_login_bindings_tenant_provider_key")
                        .HasFilter("tenant_id IS NOT NULL");

                    b.ToTable("user_login_bindings", "public");
                });

            modelBuilder.Entity("Domain.Users.User", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<bool>("HasPublicProfile")
                        .HasColumnType("boolean")
                        .HasColumnName("has_public_profile");

                    b.Property<string>("NormalizedEmail")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("normalized_email");

                    b.Property<string>("PasswordHash")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("password_hash");

                    b.Property<Guid?>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.ComplexProperty<Dictionary<string, object>>("Email", "Domain.Users.User.Email#Email", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<string>("Value")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("email");
                        });

                    b.ComplexProperty<Dictionary<string, object>>("Name", "Domain.Users.User.Name#Name", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<string>("Value")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("name");
                        });

                    b.HasKey("Id")
                        .HasName("pk_users");

                    b.HasIndex("TenantId")
                        .HasDatabaseName("ix_users_tenant_id");

                    b.ToTable("users", "public", t =>
                        {
                            t.HasCheckConstraint("CK_user_type", "\"type\" IN (0, 1, 2)");
                        });
                });

            modelBuilder.Entity("Infrastructure.Gaming.DrawSequence", b =>
                {
                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<string>("GameCode")
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("game_code");

                    b.Property<long>("NextValue")
                        .HasColumnType("bigint")
                        .HasColumnName("next_value");

                    b.Property<DateTime>("UpdatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at_utc");

                    b.HasKey("TenantId", "GameCode")
                        .HasName("pk_draw_sequences");

                    b.ToTable("draw_sequences", "gaming", t =>
                        {
                            t.HasCheckConstraint("ck_draw_sequences_next_value", "next_value >= 1");
                        });
                });

            modelBuilder.Entity("Infrastructure.Outbox.OutboxMessage", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("content");

                    b.Property<DateTime>("CreatedOnUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_on_utc");

                    b.Property<string>("Error")
                        .HasColumnType("text")
                        .HasColumnName("error");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("name");

                    b.Property<DateTime?>("ProcessedOnUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("processed_on_utc");

                    b.HasKey("Id")
                        .HasName("pk_outbox_messages");

                    b.ToTable("outbox_messages", "public");
                });

            modelBuilder.Entity("RoleUser", b =>
                {
                    b.Property<int>("RolesId")
                        .HasColumnType("integer")
                        .HasColumnName("roles_id");

                    b.Property<Guid>("UsersId")
                        .HasColumnType("uuid")
                        .HasColumnName("users_id");

                    b.HasKey("RolesId", "UsersId")
                        .HasName("pk_role_user");

                    b.HasIndex("UsersId")
                        .HasDatabaseName("ix_role_user_users_id");

                    b.ToTable("role_user", "public");
                });

            modelBuilder.Entity("Domain.Auth.RefreshTokenRecord", b =>
                {
                    b.HasOne("Domain.Auth.AuthSession", "Session")
                        .WithMany("RefreshTokens")
                        .HasForeignKey("SessionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_refresh_token_records_auth_sessions_session_id");

                    b.Navigation("Session");
                });

            modelBuilder.Entity("Domain.Gaming.DrawGroups.DrawGroupDraw", b =>
                {
                    b.HasOne("Domain.Gaming.DrawGroups.DrawGroup", null)
                        .WithMany("Draws")
                        .HasForeignKey("DrawGroupId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_draw_group_draws_draw_groups_draw_group_id");
                });

            modelBuilder.Entity("Domain.Gaming.DrawTemplates.DrawTemplateAllowedTicketTemplate", b =>
                {
                    b.HasOne("Domain.Gaming.DrawTemplates.DrawTemplate", null)
                        .WithMany("AllowedTicketTemplates")
                        .HasForeignKey("TemplateId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_draw_template_allowed_ticket_templates_draw_templates_templ");
                });

            modelBuilder.Entity("Domain.Gaming.DrawTemplates.DrawTemplatePlayType", b =>
                {
                    b.HasOne("Domain.Gaming.DrawTemplates.DrawTemplate", null)
                        .WithMany("PlayTypes")
                        .HasForeignKey("TemplateId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_draw_template_play_types_draw_templates_template_id");
                });

            modelBuilder.Entity("Domain.Gaming.DrawTemplates.DrawTemplatePrizeTier", b =>
                {
                    b.HasOne("Domain.Gaming.DrawTemplates.DrawTemplate", null)
                        .WithMany("PrizeTiers")
                        .HasForeignKey("TemplateId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_draw_template_prize_tiers_draw_templates_template_id");

                    b.OwnsOne("Domain.Gaming.Shared.PrizeOption", "Option", b1 =>
                        {
                            b1.Property<Guid>("DrawTemplatePrizeTierId")
                                .HasColumnType("uuid")
                                .HasColumnName("id");

                            b1.Property<decimal>("Cost")
                                .HasColumnType("decimal(18,2)")
                                .HasColumnName("prize_cost_snapshot");

                            b1.Property<string>("Description")
                                .HasMaxLength(256)
                                .HasColumnType("character varying(256)")
                                .HasColumnName("prize_description_snapshot");

                            b1.Property<string>("Name")
                                .IsRequired()
                                .HasMaxLength(128)
                                .HasColumnType("character varying(128)")
                                .HasColumnName("prize_name_snapshot");

                            b1.Property<decimal>("PayoutAmount")
                                .HasColumnType("decimal(18,2)")
                                .HasColumnName("prize_payout_snapshot");

                            b1.Property<Guid?>("PrizeId")
                                .HasColumnType("uuid")
                                .HasColumnName("prize_id_snapshot");

                            b1.Property<int?>("RedeemValidDays")
                                .HasColumnType("integer")
                                .HasColumnName("prize_redeem_valid_days_snapshot");

                            b1.HasKey("DrawTemplatePrizeTierId");

                            b1.ToTable("draw_template_prize_tiers", "gaming");

                            b1.WithOwner()
                                .HasForeignKey("DrawTemplatePrizeTierId")
                                .HasConstraintName("fk_draw_template_prize_tiers_draw_template_prize_tiers_id");
                        });

                    b.Navigation("Option")
                        .IsRequired();
                });

            modelBuilder.Entity("Domain.Gaming.Draws.DrawEnabledPlayType", b =>
                {
                    b.HasOne("Domain.Gaming.Draws.Draw", null)
                        .WithMany("EnabledPlayTypeItems")
                        .HasForeignKey("DrawId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_draw_enabled_play_types_draws_draw_id");
                });

            modelBuilder.Entity("Domain.Gaming.Draws.DrawPrizePoolItem", b =>
                {
                    b.HasOne("Domain.Gaming.Draws.Draw", null)
                        .WithMany("PrizePoolItems")
                        .HasForeignKey("DrawId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_draw_prize_pool_items_draws_draw_id");

                    b.OwnsOne("Domain.Gaming.Shared.PrizeOption", "Option", b1 =>
                        {
                            b1.Property<Guid>("DrawPrizePoolItemId")
                                .HasColumnType("uuid")
                                .HasColumnName("id");

                            b1.Property<decimal>("Cost")
                                .HasColumnType("decimal(18,2)")
                                .HasColumnName("prize_cost_snapshot");

                            b1.Property<string>("Description")
                                .HasMaxLength(256)
                                .HasColumnType("character varying(256)")
                                .HasColumnName("prize_description_snapshot");

                            b1.Property<string>("Name")
                                .IsRequired()
                                .HasMaxLength(128)
                                .HasColumnType("character varying(128)")
                                .HasColumnName("prize_name_snapshot");

                            b1.Property<decimal>("PayoutAmount")
                                .HasColumnType("decimal(18,2)")
                                .HasColumnName("prize_payout_snapshot");

                            b1.Property<Guid?>("PrizeId")
                                .HasColumnType("uuid")
                                .HasColumnName("prize_id_snapshot");

                            b1.Property<int?>("RedeemValidDays")
                                .HasColumnType("integer")
                                .HasColumnName("prize_redeem_valid_days_snapshot");

                            b1.HasKey("DrawPrizePoolItemId");

                            b1.ToTable("draw_prize_pool_items", "gaming");

                            b1.WithOwner()
                                .HasForeignKey("DrawPrizePoolItemId")
                                .HasConstraintName("fk_draw_prize_pool_items_draw_prize_pool_items_id");
                        });

                    b.Navigation("Option");
                });

            modelBuilder.Entity("Domain.Gaming.Tickets.TicketLine", b =>
                {
                    b.HasOne("Domain.Gaming.Tickets.Ticket", null)
                        .WithMany("Lines")
                        .HasForeignKey("TicketId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_ticket_lines_tickets_ticket_id");
                });

            modelBuilder.Entity("Domain.Members.Member", b =>
                {
                    b.HasOne("Domain.Users.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .HasConstraintName("fk_members_users_user_id");
                });

            modelBuilder.Entity("Domain.Members.MemberActivityLog", b =>
                {
                    b.HasOne("Domain.Members.Member", null)
                        .WithMany()
                        .HasForeignKey("MemberId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_member_activity_log_members_member_id");
                });

            modelBuilder.Entity("Domain.Members.MemberAddress", b =>
                {
                    b.HasOne("Domain.Members.Member", null)
                        .WithMany()
                        .HasForeignKey("MemberId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_member_addresses_members_member_id");
                });

            modelBuilder.Entity("Domain.Members.MemberAssetBalance", b =>
                {
                    b.HasOne("Domain.Members.Member", null)
                        .WithMany()
                        .HasForeignKey("MemberId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_member_asset_balance_members_member_id");
                });

            modelBuilder.Entity("Domain.Members.MemberAssetLedger", b =>
                {
                    b.HasOne("Domain.Members.Member", null)
                        .WithMany()
                        .HasForeignKey("MemberId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_member_asset_ledger_members_member_id");
                });

            modelBuilder.Entity("Domain.Members.MemberPointBalance", b =>
                {
                    b.HasOne("Domain.Members.Member", null)
                        .WithMany()
                        .HasForeignKey("MemberId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_member_point_balance_members_member_id");
                });

            modelBuilder.Entity("Domain.Members.MemberPointLedger", b =>
                {
                    b.HasOne("Domain.Members.Member", null)
                        .WithMany()
                        .HasForeignKey("MemberId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_member_point_ledger_members_member_id");
                });

            modelBuilder.Entity("Domain.Members.MemberProfile", b =>
                {
                    b.HasOne("Domain.Members.Member", null)
                        .WithOne()
                        .HasForeignKey("Domain.Members.MemberProfile", "MemberId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_member_profiles_members_member_id");
                });

            modelBuilder.Entity("Domain.Nodes.NodeRelation", b =>
                {
                    b.HasOne("Domain.Nodes.Node", "AncestorNode")
                        .WithMany("Descendants")
                        .HasForeignKey("AncestorNodeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_node_relation_node_ancestor_node_id");

                    b.HasOne("Domain.Nodes.Node", "DescendantNode")
                        .WithMany("Ancestors")
                        .HasForeignKey("DescendantNodeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_node_relation_node_descendant_node_id");

                    b.Navigation("AncestorNode");

                    b.Navigation("DescendantNode");
                });

            modelBuilder.Entity("Domain.Security.Permission", b =>
                {
                    b.HasOne("Domain.Security.Role", null)
                        .WithMany("Permissions")
                        .HasForeignKey("RoleId")
                        .HasConstraintName("fk_permission_role_role_id");
                });

            modelBuilder.Entity("Domain.Security.PermissionAssignment", b =>
                {
                    b.HasOne("Domain.Security.ResourceNode", "Node")
                        .WithMany()
                        .HasForeignKey("NodeId")
                        .HasConstraintName("fk_permission_assignments_resource_nodes_node_id");

                    b.Navigation("Node");
                });

            modelBuilder.Entity("Domain.Security.ResourceNode", b =>
                {
                    b.HasOne("Domain.Security.ResourceNode", "Parent")
                        .WithMany("Children")
                        .HasForeignKey("ParentId")
                        .HasConstraintName("fk_resource_nodes_resource_nodes_parent_id");

                    b.Navigation("Parent");
                });

            modelBuilder.Entity("Domain.Security.UserGroup", b =>
                {
                    b.HasOne("Domain.Security.Group", "Group")
                        .WithMany("UserGroups")
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_user_groups_groups_group_id");

                    b.HasOne("Domain.Users.User", "User")
                        .WithMany("UserGroups")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_user_groups_users_user_id");

                    b.Navigation("Group");

                    b.Navigation("User");
                });

            modelBuilder.Entity("Domain.Users.LoginBinding", b =>
                {
                    b.HasOne("Domain.Users.User", "User")
                        .WithMany("LoginBindings")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_user_login_bindings_users_user_id");

                    b.Navigation("User");
                });

            modelBuilder.Entity("RoleUser", b =>
                {
                    b.HasOne("Domain.Security.Role", null)
                        .WithMany()
                        .HasForeignKey("RolesId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_role_user_role_roles_id");

                    b.HasOne("Domain.Users.User", null)
                        .WithMany()
                        .HasForeignKey("UsersId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_role_user_users_users_id");
                });

            modelBuilder.Entity("Domain.Auth.AuthSession", b =>
                {
                    b.Navigation("RefreshTokens");
                });

            modelBuilder.Entity("Domain.Gaming.DrawGroups.DrawGroup", b =>
                {
                    b.Navigation("Draws");
                });

            modelBuilder.Entity("Domain.Gaming.DrawTemplates.DrawTemplate", b =>
                {
                    b.Navigation("AllowedTicketTemplates");

                    b.Navigation("PlayTypes");

                    b.Navigation("PrizeTiers");
                });

            modelBuilder.Entity("Domain.Gaming.Draws.Draw", b =>
                {
                    b.Navigation("EnabledPlayTypeItems");

                    b.Navigation("PrizePoolItems");
                });

            modelBuilder.Entity("Domain.Gaming.Tickets.Ticket", b =>
                {
                    b.Navigation("Lines");
                });

            modelBuilder.Entity("Domain.Nodes.Node", b =>
                {
                    b.Navigation("Ancestors");

                    b.Navigation("Descendants");
                });

            modelBuilder.Entity("Domain.Security.Group", b =>
                {
                    b.Navigation("UserGroups");
                });

            modelBuilder.Entity("Domain.Security.ResourceNode", b =>
                {
                    b.Navigation("Children");
                });

            modelBuilder.Entity("Domain.Security.Role", b =>
                {
                    b.Navigation("Permissions");
                });

            modelBuilder.Entity("Domain.Users.User", b =>
                {
                    b.Navigation("LoginBindings");

                    b.Navigation("UserGroups");
                });
#pragma warning restore 612, 618
        }
    }
}
